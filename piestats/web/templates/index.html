{% extends "layout.html" %}

{% block morehead %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
{% endblock %}

{% block title %}
Stats Overview
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-xs-6  col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Kills this week</h3>
      </div>
      <div class="panel-body" style="text-align: center;">
        <canvas id="chart_latest_kills" style="width: 100%; height: 200px;"></canvas>
        <script>
          var ctx = document.getElementById('chart_latest_kills').getContext('2d');
          var data = {
            labels: {{killsperdate.keys()[::-1]|safe}},
            datasets: [
              {
                label: 'Kills per day',
                fillColor: 'rgba(220,220,220,0.2)',
                strokeColor: 'rgba(220,220,220,1)',
                pointColor: 'rgba(220,220,220,1)',
                pointStrokeColor: '#fff',
                pointHighlightFill: '#fff',
                pointHighlightStroke: 'rgba(220,220,220,1)',
                data: {{killsperdate.values()[::-1]|safe}}
              }
            ]
          };
          var myChart = new Chart(ctx).Line(data, {});
        </script>
      </div>
    </div>
  </div>

  <div class="col-xs-6  col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Top countries</h3>
      </div>
    </div>
  </div>
</div>
{% endblock %}
